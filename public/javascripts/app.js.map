{"version":3,"file":"public/javascripts/app.js","sources":["app/application.js","app/modules/common/chartConfig.js","app/modules/common/forecast_config.js","app/modules/common/overlay.js","app/modules/home/Collection.js","app/modules/home/details.js","app/modules/home/detailsModel.js","app/modules/home/detailsTemplate.hbs","app/modules/home/home.hbs","app/modules/home/tempModel.js","app/modules/home/views.js","app/router.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApIA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnJA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzFA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhLA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;;A","sourcesContent":["// Application init.\nApplication = {\n    initialize: function() {\n        var Router   = require('router');\n        this.router  = new Router();\n        if (typeof Object.freeze === 'function') Object.freeze(this);\n\n        setTimeout(function(){\n            if($(window).width() < 500){\n                var p = $('p');\n                p.addClass('hover');\n                $('figure').removeClass().addClass('effect-roxy');\n                $('h2').addClass('hover');\n                $('#myChart').width($(window).width() - 200);\n            }\n        }, 1000)\n\n    }\n};\n\n$(function() {\n    Application.initialize();\n    Backbone.history.start();\n\n\n\n});\n\n","/**\n * Created by jakeforaker on 7/7/14.\n */\nvar chartConfig = (function() {\n\n    var chartOptions;\n    chartOptions = {\n        // Boolean - Whether to animate the chart\n        animation: true,\n\n        // Number - Number of animation steps\n        animationSteps: 60,\n\n        // String - Animation easing effect\n        animationEasing: \"easeOutQuart\",\n\n        // Boolean - If we should show the scale at all\n        showScale: true,\n\n        // Boolean - If we want to override with a hard coded scale\n        scaleOverride: false,\n\n        // ** Required if scaleOverride is true **\n        // Number - The number of steps in a hard coded scale\n        scaleSteps: null,\n        // Number - The value jump in the hard coded scale\n        scaleStepWidth: null,\n        // Number - The scale starting value\n        scaleStartValue: null,\n\n        // String - Colour of the scale line\n        scaleLineColor: \"white\",\n\n        // Number - Pixel width of the scale line\n        scaleLineWidth: 1,\n\n        // Boolean - Whether to show labels on the scale\n        scaleShowLabels: true,\n\n        // Interpolated JS string - can access value\n        scaleLabel: \"<%=value%>\\u00B0\",\n\n        // Boolean - Whether the scale should stick to integers, not floats even if drawing space is there\n        scaleIntegersOnly: true,\n\n        // Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n        scaleBeginAtZero: false,\n\n        // String - Scale label font declaration for the scale label\n        scaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n        // Number - Scale label font size in pixels\n        scaleFontSize: 16,\n\n        // String - Scale label font weight style\n        scaleFontStyle: \"normal\",\n\n        // String - Scale label font colour\n        scaleFontColor: \"white\",\n\n        // Boolean - whether or not the chart should be responsive and resize when the browser does.\n        responsive: ($(window).width() < 500),\n\n        // Boolean - Determines whether to draw tooltips on the canvas or not\n        showTooltips: true,\n\n        // Array - Array of string names to attach tooltip events\n        tooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\"],\n\n        // String - Tooltip background colour\n        tooltipFillColor: \"rgba(0,0,0,0.8)\",\n\n        // String - Tooltip label font declaration for the scale label\n        tooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n        // Number - Tooltip label font size in pixels\n        tooltipFontSize: 12,\n\n        // String - Tooltip font weight style\n        tooltipFontStyle: \"normal\",\n\n        // String - Tooltip label font colour\n        tooltipFontColor: \"#fff\",\n\n        // String - Tooltip title font declaration for the scale label\n        tooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n        // Number - Tooltip title font size in pixels\n        tooltipTitleFontSize: 12,\n\n        // String - Tooltip title font weight style\n        tooltipTitleFontStyle: \"normal\",\n\n        // String - Tooltip title font colour\n        tooltipTitleFontColor: \"#fff\",\n\n        // Number - pixel width of padding around tooltip text\n        tooltipYPadding: 6,\n\n        // Number - pixel width of padding around tooltip text\n        tooltipXPadding: 6,\n\n        // Number - Size of the caret on the tooltip\n        tooltipCaretSize: 8,\n\n        // Number - Pixel radius of the tooltip border\n        tooltipCornerRadius: 6,\n\n        // Number - Pixel offset from point x to tooltip edge\n        tooltipXOffset: 10,\n\n        // String - Template string for single tooltips\n        tooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\n\n        // String - Template string for single tooltips\n        multiTooltipTemplate: \"<%= value %> degrees\",\n\n        // Function - Will fire on animation progression.\n        onAnimationProgress: function () {\n        },\n\n        // Function - Will fire on animation completion.\n        onAnimationComplete: function () {\n        }\n    };\n    return chartOptions\n\n})();\n\n\n// add to global namespace\n\nmodule.exports = chartConfig;","// Place for Handlebars custom helpers\n// For example:\n// Handlebars.registerHelper('eachKeyValue', function(context, block) {\n//     return _.reduce(context, function(memo, value, key){\n//         return memo + block.fn({'key': key, 'value': value});\n//     }, \"\");\n// });\n\nvar ForecastIO = function forecastData(){\n    var forecastConfig, skycons, MakeForecast;\n\n    forecastConfig = {\n        apiKey:'c6ff3174b600aa0ebb178e6dbdc2f1cb',\n        url : 'https://api.forecast.io/forecast/'\n    };\n\n    MakeForecast = function(lat, long){\n        var forecast = Object.create(forecastConfig); //always have key/ url\n        forecast.lat = lat;\n        forecast.long = long;\n        return forecast;\n    };\n\n    return new MakeForecast('40.7657', '-73.9158');\n};\n\n\nmodule.exports = ForecastIO;","/**\n * Created by jakeforaker on 7/6/14.\n */\n//\n//var ShowOverlay = function() {\n//    var that = this;\n//    var triggerBttn = document.getElementById( 'trigger-overlay' ),\n//        overlay = document.querySelector( 'div.overlay' ),\n//        closeBttn = overlay.querySelector( 'button.overlay-close' );\n//    transEndEventNames = {\n//        'WebkitTransition': 'webkitTransitionEnd',\n//        'MozTransition': 'transitionend',\n//        'OTransition': 'oTransitionEnd',\n//        'msTransition': 'MSTransitionEnd',\n//        'transition': 'transitionend'\n//    },\n//        transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\n//        support = { transitions : Modernizr.csstransitions };\n//    function toggleOverlay() {\n//        if( classie.has( overlay, 'open' ) ) {\n//            classie.remove( overlay, 'open' );\n//            classie.add( overlay, 'close' );\n//            var onEndTransitionFn = function( ev ) {\n//                if( support.transitions ) {\n//                    if( ev.propertyName !== 'visibility' ) return;\n//                    this.removeEventListener( transEndEventName, onEndTransitionFn );\n//                }\n//                classie.remove( overlay, 'close' );\n//            };\n//            if( support.transitions ) {\n//                overlay.addEventListener( transEndEventName, onEndTransitionFn );\n//            }\n//            else {\n//                onEndTransitionFn();\n//            }\n//        }\n//        else if( !classie.has( overlay, 'close' ) ) {\n//            classie.add( overlay, 'open' );\n//        }\n//    }\n//\n//    function backHome(){\n//        $(that.el).hide();\n//        Backbone.history.navigate('');\n//    }\n//\n//    toggleOverlay();\n//\n//\n//\n//    closeBttn.addEventListener( 'click', backHome );\n//    return this\n//};\n//\n//module.exports = ShowOverlay;\n\n\nvar showIt = ( function( window ) {\n\n    function Overlay() {\n        this.el = document.querySelector('div.overlay');\n        this._init();\n    }\n\n    Overlay.prototype = {\n\n        _init : function() {\n            var that = this;\n            that._open();\n        },\n\n        _open: function(){\n            console.log(\"OOPEENNNN\");\n            var that = this;\n            $(that.el).removeClass('close');\n            $('.overlay').addClass('open');\n            console.log($(that.el));\n            return  $(that.el).addClass('open');\n        },\n\n        _close: function(){\n            console.log(\"CLODININSINIS\");\n            var that = this;\n            var o =  that.el;\n            classie.remove( o, 'open' );\n            classie.add( o, 'close' );\n        }\n    };\n\n    return Overlay\n\n} )( window );\n\n\nmodule.exports = showIt;","/**\n * Created by jakeforaker on 7/4/14.\n */\nvar TempModel = require('./tempModel');\n\nvar ForecastCollection = Backbone.Model.extend({\n\n    url: function(){\n        var forecastConfig, skycons, MakeForecast;\n\n        forecastConfig = {\n            apiKey:'c6ff3174b600aa0ebb178e6dbdc2f1cb',\n            url : 'https://api.forecast.io/forecast/'\n        };\n\n        MakeForecast = function(lat, long){\n            var forecast = Object.create(forecastConfig); //always have key/ url\n            forecast.lat = lat;\n            forecast.long = long;\n            return forecast;\n        };\n\n        //40.6700° N, 73.9400° W\n        var newFore = new MakeForecast('40.7657', '-73.9158');\n        var url = newFore.url + newFore.apiKey + \"/\" + newFore.lat + \",\" + newFore.long + \"?callback=?\";\n        console.log(url);\n\n        return url\n\n    },\n\n    model: TempModel,\n\n    parse: function(data) {\n        console.log(data);\n        this.model = new TempModel({\n            tempC: data.currently.temperature,\n            tempCFeel: data.currently.apparentTemperature,\n            icon: data.currently.icon\n        });\n        return this.model;\n    }\n});\n\n\nmodule.exports = ForecastCollection;","/**\n * Created by jakeforaker on 7/6/14.\n */\nvar template = require('./detailsTemplate');\nvar DetailsModel = require('./detailsModel');\nvar ShowOverlay = require('modules/common/overlay');\nvar utils = require('modules/common/forecast_config');\nvar ChartConfigs = require('modules/common/chartConfig');\n\nvar DetailsView = Backbone.View.extend({\n    template: template,\n    model: DetailsModel,\n    el: \"#deets\",\n    events: {\n        'click button.overlay-close': 'closeIt'\n    },\n\n    initialize: function(time){\n        var that = this;\n        var newFore = new utils();\n        _.bindAll(this, 'render', 'closeIt');\n        this.time = time;\n\n        function getval( callback ){\n            $.getJSON(newFore.url + newFore.apiKey + \"/\" + newFore.lat + \",\" + newFore.long + \",\" + that.time + \"?callback=?\", function(data) {\n                callback(data);\n            });\n        }\n\n        getval( function ( o ) {\n            var modd = new DetailsModel({\n                data : o\n            });\n            console.log(modd);\n            that.render(modd);\n        });\n    },\n\n    closeIt: function(){\n        var a = new ShowOverlay();\n        a._close();\n        Backbone.history.navigate('');\n    },\n\n    render: function(model){\n        var that = this;\n        var a = new ShowOverlay();\n        var temps = [];\n        var precipProbability = [];\n        var times = [];\n        for(var x = 0; x < model.attributes.data.hourly.data.length; x++){\n            var data = model.attributes.data.hourly.data[x];\n            temps.push(data.temperature);\n            times.push(x);\n            precipProbability.push(data.precipProbability);\n        }\n        var dat = {\n            /*\n             12AM 2AM 4AM 6AM 8AM 10AM noon 2PM 4PM 6PM 8PM 10PM\n             */\n            labels: [\"12AM\", \"1AM\", \"2AM\", \"3AM\", \"4AM\", \"5AM\", \"6AM\", \"7AM\", \"8AM\", \"9AM\", \"10AM\", \"11AM\", \"Noon\", \"1PM\", \"2PM\", \"3PM\", \"4PM\", \"5PM\", \"6PM\", \"7PM\", \"8PM\", \"9PM\", \"10PM\", \"11PM\"],\n           // labels: [times],\n\n            datasets: [\n                {\n                    label: \"My First dataset\",\n                    fillColor: \"rgba(220,220,220,0.2)\",\n                    strokeColor: \"rgba(220,220,220,1)\",\n                    pointColor: \"rgba(220,220,220,1)\",\n                    pointStrokeColor: \"#fff\",\n                    pointHighlightFill: \"#fff\",\n                    pointHighlightStroke: \"rgba(220,220,220,1)\",\n                    data: temps\n                },\n                {\n                    label: \"My second dataset\",\n                    fillColor : \"rgba(151,187,205,0.2)\",\n                    strokeColor : \"rgba(151,187,205,1)\",\n                    pointColor : \"rgba(151,187,205,1)\",\n                    pointStrokeColor : \"#fff\",\n                    pointHighlightFill : \"#fff\",\n                    pointHighlightStroke : \"rgba(151,187,205,1)\",\n                    data: precipProbability\n                }\n            ]\n        };\n\n\n\n        setTimeout(function(){\n            $(that.el).show();\n            a._open();\n\n            var ctx = $(\"#myChart\").get(0).getContext(\"2d\");\n            new Chart(ctx).Line(dat, ChartConfigs);\n\n        }, 1);\n\n        var current = model.attributes.data.currently;\n        var alerts = model.attributes.data.alerts;\n\n        this.$el.html(this.template({\n            alert: alerts,\n            time: current.time,\n            icon: current.icon,\n            summary: model.attributes.data.daily.data[0].summary,\n            daily: model.attributes.data.daily,\n            precipProbability: current.precipProbability > 0.05 ? current.precipProbability * 100 : 'none'\n        }));\n\n\n\n        var icons = new Skycons({\"color\":\"white\"}),\n            list = [\n                \"clear-day\",\n                \"clear-night\",\n                \"partly-cloudy-day\",\n                \"partly-cloudy-night\",\n                \"cloudy\",\n                \"rain\",\n                \"sleet\",\n                \"snow\",\n                \"wind\",\n                \"fog\"\n            ], i;\n\n        for(i = list.length; i--; ) {\n            var weatherType = list[i],\n                elements = document.getElementsByClassName(weatherType);\n            for (var e = elements.length; e--;){\n                icons.set( elements[e], weatherType );\n            }\n        }\n\n\n\n        var fig = $('figure');\n        var timespan = fig.find('.timespan');\n        var firstDay = moment.unix(timespan.text()).format(\"dddd\");\n        timespan.text(firstDay);\n\n        icons.play();\n\n        return this;\n    }\n});\n\nmodule.exports = DetailsView;","/**\n * Created by jakeforaker on 7/6/14.\n */\nvar DetailsModel = Backbone.Model.extend({\n\n    defaults:{\n        icon: '',\n        tempC: '',\n        tempCFeel: ''\n    }\n});\n\n\nmodule.exports = DetailsModel;","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <p>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \": <a href=\\\"\";\n  if (helper = helpers.uri) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.uri); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" target=\\\"_blank\\\">\";\n  if (helper = helpers.uri) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.uri); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a></p>\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"overlay overlay-hugeinc\\\">\\n    <button type=\\\"button\\\" class=\\\"overlay-close\\\">Close</button>\\n\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.alert), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n\\n\\n            <figure>\\n                <figcaption>\\n\\n                    <h2><span class=\\\"timespan\\\">\";\n  if (helper = helpers.time) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.time); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  if (helper = helpers.summary) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.summary); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n                    <h2 class=\\\"\";\n  if (helper = helpers.precipProbability) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.precipProbability); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">chance of rain: \";\n  if (helper = helpers.precipProbability) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.precipProbability); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"%</h2>\\n\\n\\n                    <div class=\\\"canvas-holder\\\">\\n                        <canvas class=\\\"\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" width=\\\"111\\\" height=\\\"111\\\">\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</canvas>\\n                    </div>\\n\\n                    <div class=\\\"chart-holder\\\">\\n                        <canvas id=\\\"myChart\\\" width=\\\"666\\\" height=\\\"400\\\" style=\\\"margin: 0 auto\\\"></canvas>\\n                    </div>\\n\\n                </figcaption>\\n            </figure>\\n\\n</div>\\n\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                <p style=\\\"color: orangered\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \": <a href=\\\"\";\n  if (helper = helpers.uri) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.uri); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" target=\\\"_blank\\\">\";\n  if (helper = helpers.uri) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.uri); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a></p>\\n            \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            \";\n  stack1 = helpers.each.call(depth0, depth0, {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                <a href=\\\"#details/\";\n  if (helper = helpers.time) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.time); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                <figure class=\\\"\";\n  if (helper = helpers.klass) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.klass); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                    <img class=\\\"img\\\"/>\\n                    <figcaption>\\n                        <div>\\n                            <h4><span class=\\\"time\\\">\";\n  if (helper = helpers.time) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.time); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span> </h4>\\n                            <p>\\n                                <canvas class=\\\"\"\n    + escapeExpression(((stack1 = (depth0 && depth0.icon)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" width=\\\"111\\\" height=\\\"111\\\">\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</canvas>\\n                            </p>\\n\\n                        </div>\\n\\n                        <h2 class=\\\"\\\">\";\n  if (helper = helpers.summary) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.summary); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n\\n                    </figcaption>\\n                </figure>\\n                </a>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"\\n\\n<div id=\\\"content\\\">\\n    <div class=\\\"grid\\\">\\n        <header class=\\\"\\\" style=\\\"background-size: cover;background-repeat: no-repeat;\\\">\\n            <h1>Current weather</h1>\\n            <canvas id=\\\"icon\\\" width=\\\"128\\\" height=\\\"128\\\"></canvas>\\n            <h1>\";\n  if (helper = helpers.rightNow) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.rightNow); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" - \";\n  if (helper = helpers.tempC) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.tempC); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.alert), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n        </header>\\n\\n        <h3> \"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.daily)),stack1 == null || stack1 === false ? stack1 : stack1.summary)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</h3>\\n\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.daily), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n</div>\\n<div id=\\\"deets\\\">\\n    <div class=\\\"overlay close\\\" style=\\\"display: none\\\"></div>\\n</div>\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","/**\n* Created by jakeforaker on 2/26/14.\n*/\nvar Temp = Backbone.Model.extend({\n\n    defaults:{\n        icon: '',\n        tempC: '',\n        tempCFeel: ''\n    }\n});\n\n\nmodule.exports = Temp;","var template = require('./home');\nvar TempModel = require('./tempModel');\nvar ForecastCollection = require('modules/home/Collection');\nvar utils = require('modules/common/forecast_config');\n\nvar HomeView = Backbone.View.extend({\n    template: template,\n    model: TempModel,\n    el: \"#main\",\n    initialize: function(){\n\n        this.collection = new ForecastCollection();\n\n        var newFore = new utils();\n        console.log(newFore);\n        var that = this;\n\n        function getval( callback ){\n            $.getJSON(newFore.url + newFore.apiKey + \"/\" + newFore.lat + \",\" + newFore.long + \"?callback=?\", function(data) {\n                callback(data);\n            });\n        }\n\n        getval( function ( o ) {\n            var modd = new TempModel({\n                data : o,\n                tempC: o.currently.temperature,\n                tempCFeel: o.currently.apparentTemperature,\n                icon: o.currently.icon\n            });\n            console.log(modd);\n\n            that.render(modd);\n        });\n\n        /*\n         Key:\n         08db47bcad763eaab656eb51e4726090\n\n         Secret:\n         abb098b40a36e159\n         https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=97bf61b0cb5de432ad70112467e1d734&tags=sun&format=json&nojsoncallback=1\n         https://farm{farm-id}.staticflickr.com/{server-id}/{id}_{secret}.jpg\n         */\n\n\n\n    },\n\n    getDayName: function(){\n        return 'wednesday'\n    },\n\n    render: function(model){\n        $('#temp').hide();\n        var skyconTop = new Skycons({\n            \"color\": \"white\"\n        });\n        var icooo = typeof model.get('icon') !== 'undefined' ? model.get('icon') : '';\n\n\n\n\n        var alerts = model.attributes.data.alerts;\n        var time = model.attributes.data.currently.time;\n\n        var bgimage = function(){\n            var u = 'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=08db47bcad763eaab656eb51e4726090&&tags='+encodeURI(icooo)+'&media=photos&per_page=10&page=1&format=json&nojsoncallback=1';\n            console.log(u);\n            $.getJSON(u, function(d) {\n                var num = Math.floor(Math.random() * 10) + 1;\n                var b = 'https://farm'+d.photos.photo[num].farm+'.staticflickr.com/'+d.photos.photo[num].server+'/'+d.photos.photo[num].id+'_'+d.photos.photo[num].secret+'_b.jpg';\n                console.log(b)\n                $('.codrops-header').css('background-image', 'url(' + b + ')');\n\n            });\n\n        };\n\n        bgimage();\n        console.log(model)\n\n        this.$el.html(this.template({\n            rightNow: model.attributes.data.currently.summary,\n            time: moment.unix(time).format(\" h:mm:ss a\" + \" \" + \"MM/DD/YYYY\"),\n            alert: alerts,\n            summary: model.get('summary'),\n            tempC: model.get('tempC'),\n            tempCFeel: model.get('tempCFeel'),\n            icon: model.get('icon'),\n            daily: model.attributes.data.daily\n        }));\n\n\n        skyconTop.set( 'icon', icooo.toUpperCase());\n        var icons = new Skycons({\"color\":\"white\"}),\n            list = [\n                \"clear-day\",\n                \"clear-night\",\n                \"partly-cloudy-day\",\n                \"partly-cloudy-night\",\n                \"cloudy\",\n                \"rain\",\n                \"sleet\",\n                \"snow\",\n                \"wind\",\n                \"fog\"\n            ],\n            klasses = [\n                \"effect-layla\",\n                \"effect-marley\",\n                \"effect-roxy\",\n                \"effect-bubba\",\n                \"effect-layla\",\n                \"effect-marley\",\n                \"effect-ruby\",\n                \"effect-sarah\"\n            ],\n            i;\n\n        for(i = list.length; i--; ) {\n            var weatherType = list[i],\n                elements = document.getElementsByClassName(weatherType);\n\n            for (var e = elements.length; e--;){\n\n                icons.set( elements[e], weatherType );\n\n            }\n        }\n\n\n\n\n        for(var a = 0; a < klasses.length; a++ ) {\n            var klass = klasses[a];\n            var els = $('figure');\n            var imgs = $('.img');\n\n            $(els[a]).addClass( klass );\n        }\n\n        var fig = $('figure');\n\n        function encoder(query){\n            var str = query;\n            str = str.replace(/-/g, ' ');\n            return str\n        }\n\n        fig.each(function(i, figure){\n            var iconName = $(this).find('canvas').attr('class'); //same as icon name\n            var q = encoder(iconName);\n            var that = $(this);\n\n            var firstDay = moment.unix($(this).find('.time').text()).format(\"dddd\");\n            $(this).find('.time').text(firstDay);\n\n            (function getPic(){\n                var url = 'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=08db47bcad763eaab656eb51e4726090&&tags='+encodeURI(q)+'&media=photos&per_page=10&page=1&format=json&nojsoncallback=1';\n                console.log(url);\n                $.getJSON(url, function(d) {\n                    var num = Math.floor(Math.random() * 10) + 1;\n                    var build = 'https://farm'+d.photos.photo[num].farm+'.staticflickr.com/'+d.photos.photo[num].server+'/'+d.photos.photo[num].id+'_'+d.photos.photo[num].secret+'.jpg';\n                    that.find('img').attr('src', build);\n                });\n            })();\n        });\n\n        icons.play();\n        skyconTop.play();\n\n        return this;\n    }\n});\n\nmodule.exports = HomeView;","var HomeView = require('modules/home/views');\nvar DetailsView = require('modules/home/details');\nvar utils = require('modules/common/forecast_config');\nvar DetailsModel = require('modules/home/detailsModel');\n\nmodule.exports = Backbone.Router.extend({\n    routes: {\n        '': 'home',\n        'details/:id': 'details'\n    },\n\n    home: function() {\n        console.log('home');\n        $('#main').html(new HomeView().render());\n    },\n\n    details: function(id){\n        var that =this;\n        console.log('IIIDDD ==  ' + id);\n        var newFore = new utils();\n        this.time = id;\n        var  detailsView = new DetailsView();\n//\n//\n//        function getval( callback ){\n//            $.getJSON(newFore.url + newFore.apiKey + \"/\" + newFore.lat + \",\" + newFore.long + \",\" + that.time + \"?callback=?\", function(data) {\n//                callback(data);\n//            });\n//        }\n//\n//        getval( function ( o ) {\n//            var modd = new DetailsModel({\n//                data : o\n//            });\n//            console.log(modd);\n//\n//           // that.render(modd);\n//            $('#main').html(detailsView.render(modd).$el);\n//            detailsView.delegateEvents();\n//\n//        });\n        detailsView.initialize(id);\n\n    }\n\n});\n"]}