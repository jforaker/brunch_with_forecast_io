!function(){"use strict";var globals="undefined"!=typeof window?window:global;if("function"!=typeof globals.require){var modules={},cache={},has=function(object,name){return{}.hasOwnProperty.call(object,name)},expand=function(root,name){var parts,part,results=[];parts=/^\.\.?(\/|$)/.test(name)?[root,name].join("/").split("/"):name.split("/");for(var i=0,length=parts.length;length>i;i++)part=parts[i],".."===part?results.pop():"."!==part&&""!==part&&results.push(part);return results.join("/")},dirname=function(path){return path.split("/").slice(0,-1).join("/")},localRequire=function(path){return function(name){var dir=dirname(path),absolute=expand(dir,name);return globals.require(absolute,path)}},initModule=function(name,definition){var module={id:name,exports:{}};return cache[name]=module,definition(module.exports,localRequire(name),module),module.exports},require=function(name,loaderPath){var path=expand(name,".");if(null==loaderPath&&(loaderPath="/"),has(cache,path))return cache[path].exports;if(has(modules,path))return initModule(path,modules[path]);var dirIndex=expand(path,"./index");if(has(cache,dirIndex))return cache[dirIndex].exports;if(has(modules,dirIndex))return initModule(dirIndex,modules[dirIndex]);throw new Error('Cannot find module "'+name+'" from "'+loaderPath+'"')},define=function(bundle,fn){if("object"==typeof bundle)for(var key in bundle)has(bundle,key)&&(modules[key]=bundle[key]);else modules[bundle]=fn},list=function(){var result=[];for(var item in modules)has(modules,item)&&result.push(item);return result};globals.require=require,globals.require.define=define,globals.require.register=define,globals.require.list=list,globals.require.brunch=!0}}(),require.register("application",function(exports,require){Application={initialize:function(){var Router=require("router");this.router=new Router,"function"==typeof Object.freeze&&Object.freeze(this),setTimeout(function(){if($(window).width()<500){var p=$("p");p.addClass("hover"),$("figure").removeClass().addClass("effect-roxy"),$("h2").addClass("hover"),$("#myChart").width($(window).width()-200)}},1e3)}},$(function(){Application.initialize(),Backbone.history.start()})}),require.register("modules/common/chartConfig",function(exports,require,module){var chartConfig=function(){var chartOptions;return chartOptions={animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"white",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>Â°",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:16,scaleFontStyle:"normal",scaleFontColor:"white",responsive:$(window).width()<500,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:12,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:12,tooltipTitleFontStyle:"normal",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %> degrees",onAnimationProgress:function(){},onAnimationComplete:function(){}}}();module.exports=chartConfig}),require.register("modules/common/forecast_config",function(exports,require,module){var ForecastIO=function(){var forecastConfig,MakeForecast;return forecastConfig={apiKey:"c6ff3174b600aa0ebb178e6dbdc2f1cb",url:"https://api.forecast.io/forecast/"},new(MakeForecast=function(lat,long){var forecast=Object.create(forecastConfig);return forecast.lat=lat,forecast.long=long,forecast})("40.7657","-73.9158")};module.exports=ForecastIO}),require.register("modules/common/overlay",function(exports,require,module){var showIt=function(){function Overlay(){this.el=document.querySelector("div.overlay"),this._init()}return Overlay.prototype={_init:function(){var that=this;that._open()},_open:function(){console.log("OOPEENNNN");var that=this;return $(that.el).removeClass("close"),$(".overlay").addClass("open"),console.log($(that.el)),$(that.el).addClass("open")},_close:function(){console.log("CLODININSINIS");var that=this,o=that.el;classie.remove(o,"open"),classie.add(o,"close")}},Overlay}(window);module.exports=showIt}),require.register("modules/home/Collection",function(exports,require,module){var TempModel=require("./tempModel"),ForecastCollection=Backbone.Model.extend({url:function(){var forecastConfig,MakeForecast;forecastConfig={apiKey:"c6ff3174b600aa0ebb178e6dbdc2f1cb",url:"https://api.forecast.io/forecast/"},MakeForecast=function(lat,long){var forecast=Object.create(forecastConfig);return forecast.lat=lat,forecast.long=long,forecast};var newFore=new MakeForecast("40.7657","-73.9158"),url=newFore.url+newFore.apiKey+"/"+newFore.lat+","+newFore.long+"?callback=?";return console.log(url),url},model:TempModel,parse:function(data){return console.log(data),this.model=new TempModel({tempC:data.currently.temperature,tempCFeel:data.currently.apparentTemperature,icon:data.currently.icon}),this.model}});module.exports=ForecastCollection}),require.register("modules/home/details",function(exports,require,module){var template=require("./detailsTemplate"),DetailsModel=require("./detailsModel"),ShowOverlay=require("modules/common/overlay"),utils=require("modules/common/forecast_config"),ChartConfigs=require("modules/common/chartConfig"),DetailsView=Backbone.View.extend({template:template,model:DetailsModel,el:"#deets",events:{"click button.overlay-close":"closeIt"},initialize:function(time){function getval(callback){$.getJSON(newFore.url+newFore.apiKey+"/"+newFore.lat+","+newFore.long+","+that.time+"?callback=?",function(data){callback(data)})}var that=this,newFore=new utils;_.bindAll(this,"render","closeIt"),this.time=time,getval(function(o){var modd=new DetailsModel({data:o});console.log(modd),that.render(modd)})},closeIt:function(){var a=new ShowOverlay;a._close(),Backbone.history.navigate("")},render:function(model){for(var that=this,a=new ShowOverlay,temps=[],precipProbability=[],times=[],x=0;x<model.attributes.data.hourly.data.length;x++){var data=model.attributes.data.hourly.data[x];temps.push(data.temperature),times.push(x),precipProbability.push(data.precipProbability)}var dat={labels:["12AM","1AM","2AM","3AM","4AM","5AM","6AM","7AM","8AM","9AM","10AM","11AM","Noon","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"],datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:temps},{label:"My second dataset",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:precipProbability}]};setTimeout(function(){$(that.el).show(),a._open();var ctx=$("#myChart").get(0).getContext("2d");new Chart(ctx).Line(dat,ChartConfigs)},1);var current=model.attributes.data.currently,alerts=model.attributes.data.alerts;this.$el.html(this.template({alert:alerts,time:current.time,icon:current.icon,summary:model.attributes.data.daily.data[0].summary,daily:model.attributes.data.daily,precipProbability:current.precipProbability>.05?100*current.precipProbability:"none"}));var i,icons=new Skycons({color:"white"}),list=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy","rain","sleet","snow","wind","fog"];for(i=list.length;i--;)for(var weatherType=list[i],elements=document.getElementsByClassName(weatherType),e=elements.length;e--;)icons.set(elements[e],weatherType);var fig=$("figure"),timespan=fig.find(".timespan"),firstDay=moment.unix(timespan.text()).format("dddd");return timespan.text(firstDay),icons.play(),this}});module.exports=DetailsView}),require.register("modules/home/detailsModel",function(exports,require,module){var DetailsModel=Backbone.Model.extend({defaults:{icon:"",tempC:"",tempCFeel:""}});module.exports=DetailsModel}),require.register("modules/home/detailsTemplate",function(exports,require,module){var __templateData=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <p>",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+': <a href="',(helper=helpers.uri)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.uri,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" target="_blank">',(helper=helpers.uri)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.uri,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</a></p>\n    "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='<div class="overlay overlay-hugeinc">\n    <button type="button" class="overlay-close">Close</button>\n\n    ',stack1=helpers.each.call(depth0,depth0&&depth0.alert,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n\n\n\n            <figure>\n                <figcaption>\n\n                    <h2><span class="timespan">',(helper=helpers.time)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.time,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>",(helper=helpers.summary)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.summary,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</h2>\n                    <h2 class="',(helper=helpers.precipProbability)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.precipProbability,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">chance of rain: ',(helper=helpers.precipProbability)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.precipProbability,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'%</h2>\n\n\n                    <div class="canvas-holder">\n                        <canvas class="',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" width="111" height="111">',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</canvas>\n                    </div>\n\n                    <div class="chart-holder">\n                        <canvas id="myChart" width="666" height="400" style="margin: 0 auto"></canvas>\n                    </div>\n\n                </figcaption>\n            </figure>\n\n</div>\n'});"function"==typeof define&&define.amd?define([],function(){return __templateData}):"object"==typeof module&&module&&module.exports&&(module.exports=__templateData)}),require.register("modules/home/home",function(exports,require,module){var __templateData=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n                <p style="color: orangered">',(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+': <a href="',(helper=helpers.uri)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.uri,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" target="_blank">',(helper=helpers.uri)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.uri,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</a></p>\n            "}function program3(depth0,data){var stack1,buffer="";return buffer+="\n            ",stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        "}function program4(depth0,data){var stack1,helper,buffer="";return buffer+='\n                <a href="#details/',(helper=helpers.time)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.time,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                <figure class="',(helper=helpers.klass)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.klass,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\n                    <img class="img"/>\n                    <figcaption>\n                        <div>\n                            <h4><span class="time">',(helper=helpers.time)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.time,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span> </h4>\n                            <p>\n                                <canvas class="'+escapeExpression((stack1=depth0&&depth0.icon,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" width="111" height="111">',(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</canvas>\n                            </p>\n\n                        </div>\n\n                        <h2 class="">',(helper=helpers.summary)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.summary,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</h2>\n\n                    </figcaption>\n                </figure>\n                </a>\n            "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+='\n\n<div id="content">\n    <div class="grid">\n        <header class="" style="background-size: cover;background-repeat: no-repeat;">\n            <h1>Current weather</h1>\n            <canvas id="icon" width="128" height="128"></canvas>\n            <h1>',(helper=helpers.rightNow)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.rightNow,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" - ",(helper=helpers.tempC)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.tempC,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</h1>\n\n            ",stack1=helpers.each.call(depth0,depth0&&depth0.alert,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n\n        </header>\n\n        <h3> "+escapeExpression((stack1=depth0&&depth0.daily,stack1=null==stack1||stack1===!1?stack1:stack1.summary,typeof stack1===functionType?stack1.apply(depth0):stack1))+"</h3>\n\n        ",stack1=helpers.each.call(depth0,depth0&&depth0.daily,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+='\n    </div>\n</div>\n<div id="deets">\n    <div class="overlay close" style="display: none"></div>\n</div>'});"function"==typeof define&&define.amd?define([],function(){return __templateData}):"object"==typeof module&&module&&module.exports&&(module.exports=__templateData)}),require.register("modules/home/tempModel",function(exports,require,module){var Temp=Backbone.Model.extend({defaults:{icon:"",tempC:"",tempCFeel:""}});module.exports=Temp}),require.register("modules/home/views",function(exports,require,module){var template=require("./home"),TempModel=require("./tempModel"),ForecastCollection=require("modules/home/Collection"),utils=require("modules/common/forecast_config"),HomeView=Backbone.View.extend({template:template,model:TempModel,el:"#main",initialize:function(){function getval(callback){$.getJSON(newFore.url+newFore.apiKey+"/"+newFore.lat+","+newFore.long+"?callback=?",function(data){callback(data)})}this.collection=new ForecastCollection;var newFore=new utils;console.log(newFore);var that=this;getval(function(o){var modd=new TempModel({data:o,tempC:o.currently.temperature,tempCFeel:o.currently.apparentTemperature,icon:o.currently.icon});console.log(modd),that.render(modd)})},getDayName:function(){return"wednesday"},render:function(model){function encoder(query){var str=query;return str=str.replace(/-/g," ")}$("#temp").hide();var skyconTop=new Skycons({color:"white"}),icooo="undefined"!=typeof model.get("icon")?model.get("icon"):"",alerts=model.attributes.data.alerts,time=model.attributes.data.currently.time,bgimage=function(){var u="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=08db47bcad763eaab656eb51e4726090&&tags="+encodeURI(icooo)+"&media=photos&per_page=10&page=1&format=json&nojsoncallback=1";console.log(u),$.getJSON(u,function(d){var num=Math.floor(10*Math.random())+1,b="https://farm"+d.photos.photo[num].farm+".staticflickr.com/"+d.photos.photo[num].server+"/"+d.photos.photo[num].id+"_"+d.photos.photo[num].secret+"_b.jpg";console.log(b),$(".codrops-header").css("background-image","url("+b+")")})};bgimage(),console.log(model),this.$el.html(this.template({rightNow:model.attributes.data.currently.summary,time:moment.unix(time).format(" h:mm:ss a MM/DD/YYYY"),alert:alerts,summary:model.get("summary"),tempC:model.get("tempC"),tempCFeel:model.get("tempCFeel"),icon:model.get("icon"),daily:model.attributes.data.daily})),skyconTop.set("icon",icooo.toUpperCase());var i,icons=new Skycons({color:"white"}),list=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy","rain","sleet","snow","wind","fog"],klasses=["effect-layla","effect-marley","effect-roxy","effect-bubba","effect-layla","effect-marley","effect-ruby","effect-sarah"];for(i=list.length;i--;)for(var weatherType=list[i],elements=document.getElementsByClassName(weatherType),e=elements.length;e--;)icons.set(elements[e],weatherType);for(var a=0;a<klasses.length;a++){{var klass=klasses[a],els=$("figure");$(".img")}$(els[a]).addClass(klass)}var fig=$("figure");return fig.each(function(){var iconName=$(this).find("canvas").attr("class"),q=encoder(iconName),that=$(this),firstDay=moment.unix($(this).find(".time").text()).format("dddd");$(this).find(".time").text(firstDay),function(){var url="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=08db47bcad763eaab656eb51e4726090&&tags="+encodeURI(q)+"&media=photos&per_page=10&page=1&format=json&nojsoncallback=1";console.log(url),$.getJSON(url,function(d){var num=Math.floor(10*Math.random())+1,build="https://farm"+d.photos.photo[num].farm+".staticflickr.com/"+d.photos.photo[num].server+"/"+d.photos.photo[num].id+"_"+d.photos.photo[num].secret+".jpg";that.find("img").attr("src",build)})}()}),icons.play(),skyconTop.play(),this}});module.exports=HomeView}),require.register("router",function(exports,require,module){{var HomeView=require("modules/home/views"),DetailsView=require("modules/home/details"),utils=require("modules/common/forecast_config");require("modules/home/detailsModel")}module.exports=Backbone.Router.extend({routes:{"":"home","details/:id":"details"},home:function(){console.log("home"),$("#main").html((new HomeView).render())},details:function(id){console.log("IIIDDD ==  "+id);new utils;this.time=id;var detailsView=new DetailsView;detailsView.initialize(id)}})});