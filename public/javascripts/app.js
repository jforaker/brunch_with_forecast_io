!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},a={},o=function(e,t){return{}.hasOwnProperty.call(e,t)},n=function(e,t){var a,o,n=[];a=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var r=0,i=a.length;i>r;r++)o=a[r],".."===o?n.pop():"."!==o&&""!==o&&n.push(o);return n.join("/")},r=function(e){return e.split("/").slice(0,-1).join("/")},i=function(t){return function(a){var o=r(t),i=n(o,a);return e.require(i,t)}},l=function(e,t){var o={id:e,exports:{}};return a[e]=o,t(o.exports,i(e),o),o.exports},s=function(e,r){var i=n(e,".");if(null==r&&(r="/"),o(a,i))return a[i].exports;if(o(t,i))return l(i,t[i]);var s=n(i,"./index");if(o(a,s))return a[s].exports;if(o(t,s))return l(s,t[s]);throw new Error('Cannot find module "'+e+'" from "'+r+'"')},c=function(e,a){if("object"==typeof e)for(var n in e)o(e,n)&&(t[n]=e[n]);else t[e]=a},h=function(){var e=[];for(var a in t)o(t,a)&&e.push(a);return e};e.require=s,e.require.define=c,e.require.register=c,e.require.list=h,e.require.brunch=!0}}(),require.register("application",function(e,t){Application={initialize:function(){var e=t("router");this.router=new e,"function"==typeof Object.freeze&&Object.freeze(this)}},$(function(){Application.initialize(),Backbone.history.start()})}),require.register("modules/common/chartConfig",function(e,t,a){var o=function(){var e={animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:20,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:20,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",onAnimationProgress:function(){},onAnimationComplete:function(){}};return e}();a.exports=o}),require.register("modules/common/forecast_config",function(e,t,a){var o=function(){var e,t;return e={apiKey:"c6ff3174b600aa0ebb178e6dbdc2f1cb",url:"https://api.forecast.io/forecast/"},new(t=function(t,a){var o=Object.create(e);return o.lat=t,o.long=a,o})("40.7657","-73.9158")};a.exports=o}),require.register("modules/common/overlay",function(e,t,a){var o=function(){function e(){this.el=document.querySelector("div.overlay"),this._init()}return e.prototype={_init:function(){var e=this;e._open()},_open:function(){console.log("OOPEENNNN");var e=this;return $(e.el).removeClass("close"),$(".overlay").addClass("open"),console.log($(e.el)),$(e.el).addClass("open")},_close:function(){console.log("CLODININSINIS");var e=this,t=e.el;classie.remove(t,"open"),classie.add(t,"close")}},e}(window);a.exports=o}),require.register("modules/home/Collection",function(e,t,a){var o=t("./tempModel"),n=Backbone.Model.extend({url:function(){var e,t;e={apiKey:"c6ff3174b600aa0ebb178e6dbdc2f1cb",url:"https://api.forecast.io/forecast/"},t=function(t,a){var o=Object.create(e);return o.lat=t,o.long=a,o};var a=new t("40.7657","-73.9158"),o=a.url+a.apiKey+"/"+a.lat+","+a.long+"?callback=?";return console.log(o),o},model:o,parse:function(e){return console.log(e),this.model=new o({tempC:e.currently.temperature,tempCFeel:e.currently.apparentTemperature,icon:e.currently.icon}),this.model}});a.exports=n}),require.register("modules/home/details",function(e,t,a){var o=t("./detailsTemplate"),n=t("./detailsModel"),r=t("modules/common/overlay"),i=t("modules/common/forecast_config"),l=t("modules/common/chartConfig"),s=Backbone.View.extend({template:o,model:n,el:"#deets",events:{"click button.overlay-close":"closeIt"},initialize:function(e){function t(e){$.getJSON(o.url+o.apiKey+"/"+o.lat+","+o.long+","+a.time+"?callback=?",function(t){e(t)})}var a=this,o=new i;_.bindAll(this,"render","closeIt"),this.time=e,t(function(e){var t=new n({data:e});console.log(t),a.render(t)})},closeIt:function(){var e=new r;e._close(),Backbone.history.navigate("")},render:function(e){for(var t=this,a=new r,o=[],n=[],i=0;i<e.attributes.data.hourly.data.length;i++){var s=e.attributes.data.hourly.data[i];o.push(s.temperature),n.push(s.precipProbability)}var c={labels:["12AM","2AM","4AM","6AM","8AM","10AM","noon","2PM","4PM","6PM","8PM","10PM","3","4","5","6","7","8","9","10","asdf","asdf","asdf","asdf"],datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:o},{label:"My second dataset",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:n}]};setTimeout(function(){$(t.el).show(),a._open();var e=$("#myChart").get(0).getContext("2d");new Chart(e).Line(c,l)},1);var h=e.attributes.data.currently,d=e.attributes.data.alerts;this.$el.html(this.template({alert:d,time:h.time,icon:h.icon,summary:e.attributes.data.daily.data[0].summary,daily:e.attributes.data.daily,precipProbability:h.precipProbability>.05?100*h.precipProbability:"none"}));var u,p=new Skycons({color:"white"}),f=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy","rain","sleet","snow","wind","fog"];for(u=f.length;u--;)for(var m=f[u],g=document.getElementsByClassName(m),y=g.length;y--;)p.set(g[y],m);var v=$("figure"),b=v.find(".timespan"),w=moment.unix(b.text()).format("dddd");return b.text(w),p.play(),this}});a.exports=s}),require.register("modules/home/detailsModel",function(e,t,a){var o=Backbone.Model.extend({defaults:{icon:"",tempC:"",tempCFeel:""}});a.exports=o}),require.register("modules/home/detailsTemplate",function(e,t,a){var o=Handlebars.template(function(e,t,a,o,n){function r(e,t){var o,n,r="";return r+="\n        <p>",(n=a.title)?o=n.call(e,{hash:{},data:t}):(n=e&&e.title,o=typeof n===c?n.call(e,{hash:{},data:t}):n),r+=h(o)+': <a href="',(n=a.uri)?o=n.call(e,{hash:{},data:t}):(n=e&&e.uri,o=typeof n===c?n.call(e,{hash:{},data:t}):n),r+=h(o)+'" target="_blank">',(n=a.uri)?o=n.call(e,{hash:{},data:t}):(n=e&&e.uri,o=typeof n===c?n.call(e,{hash:{},data:t}):n),r+=h(o)+"</a></p>\n    "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),n=n||{};var i,l,s="",c="function",h=this.escapeExpression,d=this;return s+='<div class="overlay overlay-hugeinc">\n    <button type="button" class="overlay-close">Close</button>\n\n    ',i=a.each.call(t,t&&t.alert,{hash:{},inverse:d.noop,fn:d.program(1,r,n),data:n}),(i||0===i)&&(s+=i),s+='\n\n\n\n            <figure>\n                <figcaption>\n\n                    <h2><span class="timespan">',(l=a.time)?i=l.call(t,{hash:{},data:n}):(l=t&&t.time,i=typeof l===c?l.call(t,{hash:{},data:n}):l),s+=h(i)+"</span>",(l=a.summary)?i=l.call(t,{hash:{},data:n}):(l=t&&t.summary,i=typeof l===c?l.call(t,{hash:{},data:n}):l),s+=h(i)+'</h2>\n                    <h2 class="',(l=a.precipProbability)?i=l.call(t,{hash:{},data:n}):(l=t&&t.precipProbability,i=typeof l===c?l.call(t,{hash:{},data:n}):l),s+=h(i)+'">chance of rain: ',(l=a.precipProbability)?i=l.call(t,{hash:{},data:n}):(l=t&&t.precipProbability,i=typeof l===c?l.call(t,{hash:{},data:n}):l),s+=h(i)+'%</h2>\n\n\n                    <div class="canvas-holder">\n                        <canvas class="',(l=a.icon)?i=l.call(t,{hash:{},data:n}):(l=t&&t.icon,i=typeof l===c?l.call(t,{hash:{},data:n}):l),s+=h(i)+'" width="111" height="111">',(l=a.icon)?i=l.call(t,{hash:{},data:n}):(l=t&&t.icon,i=typeof l===c?l.call(t,{hash:{},data:n}):l),s+=h(i)+'</canvas>\n                    </div>\n\n                    <div class="chart-holder">\n                        <canvas id="myChart" width="666" height="400" style="margin: 0 auto"></canvas>\n                    </div>\n\n                </figcaption>\n            </figure>\n\n</div>\n'});"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof a&&a&&a.exports&&(a.exports=o)}),require.register("modules/home/home",function(e,t,a){var o=Handlebars.template(function(e,t,a,o,n){function r(e,t){var o,n,r="";return r+='\n                <p style="color: orangered">',(n=a.title)?o=n.call(e,{hash:{},data:t}):(n=e&&e.title,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+': <a href="',(n=a.uri)?o=n.call(e,{hash:{},data:t}):(n=e&&e.uri,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+'" target="_blank">',(n=a.uri)?o=n.call(e,{hash:{},data:t}):(n=e&&e.uri,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+"</a></p>\n            "}function i(e,t){var o,n="";return n+="\n            ",o=a.each.call(e,e,{hash:{},inverse:p.noop,fn:p.program(4,l,t),data:t}),(o||0===o)&&(n+=o),n+="\n        "}function l(e,t){var o,n,r="";return r+='\n                <a href="#details/',(n=a.time)?o=n.call(e,{hash:{},data:t}):(n=e&&e.time,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+'">\n                <figure class="',(n=a.klass)?o=n.call(e,{hash:{},data:t}):(n=e&&e.klass,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+'">\n                    <img class="img"/>\n                    <figcaption>\n                        <div>\n                            <h4><span class="time">',(n=a.time)?o=n.call(e,{hash:{},data:t}):(n=e&&e.time,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+'</span> </h4>\n                            <p>\n                                <canvas class="'+u((o=e&&e.icon,typeof o===d?o.apply(e):o))+'" width="111" height="111">',(n=a.icon)?o=n.call(e,{hash:{},data:t}):(n=e&&e.icon,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+'</canvas>\n                            </p>\n\n                        </div>\n\n                        <h2 class="">',(n=a.summary)?o=n.call(e,{hash:{},data:t}):(n=e&&e.summary,o=typeof n===d?n.call(e,{hash:{},data:t}):n),r+=u(o)+"</h2>\n\n                    </figcaption>\n                </figure>\n                </a>\n            "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),n=n||{};var s,c,h="",d="function",u=this.escapeExpression,p=this;return h+='\n\n<div id="content">\n    <div class="grid">\n        <header class="codrops-headers" style="background-size: cover;background-repeat: no-repeat;">\n            <h1>Current weather</h1>\n            <canvas id="icon" width="128" height="128"></canvas>\n            <h1>',(c=a.rightNow)?s=c.call(t,{hash:{},data:n}):(c=t&&t.rightNow,s=typeof c===d?c.call(t,{hash:{},data:n}):c),h+=u(s)+" - ",(c=a.tempC)?s=c.call(t,{hash:{},data:n}):(c=t&&t.tempC,s=typeof c===d?c.call(t,{hash:{},data:n}):c),h+=u(s)+"</h1>\n\n            ",s=a.each.call(t,t&&t.alert,{hash:{},inverse:p.noop,fn:p.program(1,r,n),data:n}),(s||0===s)&&(h+=s),h+="\n\n        </header>\n\n        <h3> "+u((s=t&&t.daily,s=null==s||s===!1?s:s.summary,typeof s===d?s.apply(t):s))+"</h3>\n\n        ",s=a.each.call(t,t&&t.daily,{hash:{},inverse:p.noop,fn:p.program(3,i,n),data:n}),(s||0===s)&&(h+=s),h+='\n    </div>\n</div>\n<div id="deets">\n    <div class="overlay close" style="display: none"></div>\n</div>'});"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof a&&a&&a.exports&&(a.exports=o)}),require.register("modules/home/tempModel",function(e,t,a){var o=Backbone.Model.extend({defaults:{icon:"",tempC:"",tempCFeel:""}});a.exports=o}),require.register("modules/home/views",function(e,t,a){var o=t("./home"),n=t("./tempModel"),r=t("modules/home/Collection"),i=t("modules/common/forecast_config"),l=Backbone.View.extend({template:o,model:n,el:"#main",initialize:function(){function e(e){$.getJSON(t.url+t.apiKey+"/"+t.lat+","+t.long+"?callback=?",function(t){e(t)})}this.collection=new r;var t=new i;console.log(t);var a=this;e(function(e){var t=new n({data:e,tempC:e.currently.temperature,tempCFeel:e.currently.apparentTemperature,icon:e.currently.icon});console.log(t),a.render(t)})},getDayName:function(){return"wednesday"},render:function(e){function t(e){var t=e;return t=t.replace(/-/g," ")}$("#temp").hide();var a=new Skycons({color:"white"}),o="undefined"!=typeof e.get("icon")?e.get("icon"):"",n=e.attributes.data.alerts,r=e.attributes.data.currently.time,i=function(){var e="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=08db47bcad763eaab656eb51e4726090&&tags="+encodeURI(o)+"&media=photos&per_page=10&page=1&format=json&nojsoncallback=1";console.log(e),$.getJSON(e,function(e){var t=Math.floor(10*Math.random())+1,a="https://farm"+e.photos.photo[t].farm+".staticflickr.com/"+e.photos.photo[t].server+"/"+e.photos.photo[t].id+"_"+e.photos.photo[t].secret+"_b.jpg";console.log(a),$(".codrops-header").css("background-image","url("+a+")")})};i(),console.log(e),this.$el.html(this.template({rightNow:e.attributes.data.currently.summary,time:moment.unix(r).format(" h:mm:ss a MM/DD/YYYY"),alert:n,summary:e.get("summary"),tempC:e.get("tempC"),tempCFeel:e.get("tempCFeel"),icon:e.get("icon"),daily:e.attributes.data.daily})),a.set("icon",o.toUpperCase());var l,s=new Skycons({color:"white"}),c=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy","rain","sleet","snow","wind","fog"],h=["effect-lily","effect-marley","effect-roxy","effect-bubba","effect-layla","effect-marley","effect-ruby","effect-sarah"];for(l=c.length;l--;)for(var d=c[l],u=document.getElementsByClassName(d),p=u.length;p--;)s.set(u[p],d);for(var f=0;f<h.length;f++){{var m=h[f],g=$("figure");$(".img")}$(g[f]).addClass(m)}var y=$("figure");return y.each(function(){var e=$(this).find("canvas").attr("class"),a=t(e),o=$(this),n=moment.unix($(this).find(".time").text()).format("dddd");$(this).find(".time").text(n),function(){var e="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=08db47bcad763eaab656eb51e4726090&&tags="+encodeURI(a)+"&media=photos&per_page=10&page=1&format=json&nojsoncallback=1";console.log(e),$.getJSON(e,function(e){var t=Math.floor(10*Math.random())+1,a="https://farm"+e.photos.photo[t].farm+".staticflickr.com/"+e.photos.photo[t].server+"/"+e.photos.photo[t].id+"_"+e.photos.photo[t].secret+".jpg";o.find("img").attr("src",a)})}()}),s.play(),a.play(),this}});a.exports=l}),require.register("router",function(e,t,a){{var o=t("modules/home/views"),n=t("modules/home/details"),r=t("modules/common/forecast_config");t("modules/home/detailsModel")}a.exports=Backbone.Router.extend({routes:{"":"home","details/:id":"details"},home:function(){console.log("home"),$("#main").html((new o).render())},details:function(e){console.log("IIIDDD ==  "+e);new r;this.time=e;var t=new n;t.initialize(e)}})});